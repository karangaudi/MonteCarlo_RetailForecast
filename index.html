<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Quarterly Revenue Forecast</title>
    <meta name="description" content="Monte Carlo simulation for retail sales forecasting" />
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3EðŸ’¹%3C/text%3E%3C/svg%3E" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                50: '#eef2ff',
                100: '#e0e7ff',
                500: '#6366f1',
                600: '#4f46e5',
                700: '#4338ca'
              }
            }
          }
        }
      }
    </script>
    <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  </head>
  <body class="bg-slate-50 text-slate-900">
    <header class="bg-white/80 backdrop-blur border-b border-slate-200">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-2xl sm:text-3xl font-semibold tracking-tight">Quarterly Revenue Forecast</h1>
        <p class="mt-1 text-slate-600">Monte Carlo Simulation for Retail Sales</p>
        <p class="mt-4 text-slate-700 max-w-3xl">Adjust assumptions to simulate thousands of possible quarterly outcomes. Use the results to assess the probability of beating your target and set stocking plans with confidence.</p>
      </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
        <!-- Controls -->
        <section class="lg:col-span-4 bg-white rounded-xl shadow-sm ring-1 ring-slate-200">
          <div class="p-5 sm:p-6">
            <h2 class="text-lg font-medium">Inputs</h2>
            <div class="mt-4 space-y-6">
              <div>
                <label class="block text-sm font-medium text-slate-700">Average monthly revenue</label>
                <div class="mt-2 flex items-center gap-3">
                  <input id="avgSlider" type="range" min="50000" max="150000" step="1000" value="100000" class="w-full accent-brand-600" />
                  <span id="avgValue" class="text-sm font-medium tabular-nums px-2 py-1 rounded bg-slate-100">Â£100,000</span>
                </div>
                <p class="mt-1 text-xs text-slate-500">Range: Â£50K â€“ Â£150K</p>
              </div>

              <div>
                <label class="block text-sm font-medium text-slate-700">Standard deviation (monthly)</label>
                <div class="mt-2 flex items-center gap-3">
                  <input id="sdSlider" type="range" min="5000" max="50000" step="500" value="20000" class="w-full accent-brand-600" />
                  <span id="sdValue" class="text-sm font-medium tabular-nums px-2 py-1 rounded bg-slate-100">Â£20,000</span>
                </div>
                <p class="mt-1 text-xs text-slate-500">Range: Â£5K â€“ Â£50K</p>
              </div>

              <div>
                <label for="targetInput" class="block text-sm font-medium text-slate-700">Quarterly revenue target</label>
                <div class="mt-2 flex gap-2">
                  <div class="relative flex-1">
                    <span class="pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center text-slate-500">Â£</span>
                    <input id="targetInput" type="number" inputmode="numeric" step="1000" min="0" value="100000" class="pl-7 w-full rounded-md border-slate-300 focus:border-brand-600 focus:ring-brand-600" />
                  </div>
                  <button id="runBtn" class="inline-flex items-center justify-center px-4 py-2 rounded-md bg-brand-600 hover:bg-brand-700 text-white font-medium shadow-sm">Run Simulation</button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Results and Chart -->
        <section class="lg:col-span-8 space-y-6">
          <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4">
            <div class="bg-white rounded-xl shadow-sm ring-1 ring-slate-200 p-4">
              <p class="text-sm text-slate-600">Probability â‰¥ target</p>
              <p id="probText" class="mt-1 text-2xl font-semibold">â€”</p>
            </div>
            <div class="bg-white rounded-xl shadow-sm ring-1 ring-slate-200 p-4">
              <p class="text-sm text-slate-600">90% CI</p>
              <p id="ci90" class="mt-1 text-lg font-medium">â€”</p>
            </div>
            <div class="bg-white rounded-xl shadow-sm ring-1 ring-slate-200 p-4">
              <p class="text-sm text-slate-600">50% CI</p>
              <p id="ci50" class="mt-1 text-lg font-medium">â€”</p>
            </div>
            <div class="bg-white rounded-xl shadow-sm ring-1 ring-slate-200 p-4">
              <p class="text-sm text-slate-600">Risk level</p>
              <span id="riskBadge" class="inline-flex mt-1 items-center px-2.5 py-1 rounded-full text-sm font-medium bg-slate-100 text-slate-700">â€”</span>
            </div>
          </div>

          <div class="bg-white rounded-xl shadow-sm ring-1 ring-slate-200 p-4">
            <div class="flex items-start justify-between gap-3 flex-wrap">
              <div>
                <h3 class="text-lg font-medium">Simulated Quarterly Revenue</h3>
                <p id="summaryText" class="text-sm text-slate-600 mt-1">â€”</p>
              </div>
              <div class="text-sm text-slate-600">
                <span class="font-medium">Recommendation:</span>
                <span id="recoText">â€”</span>
              </div>
            </div>
            <div id="hist" class="mt-4 w-full h-[320px]"></div>
          </div>
        </section>
      </div>
    </main>

    <footer class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-10 text-center text-xs text-slate-500">
      Built with Monte Carlo simulation. Figures are illustrative and not guarantees.
    </footer>

    <script src="./app.js"></script>
  </body>
</html>
